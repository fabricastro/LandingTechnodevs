import{j as t}from"./jsx-runtime.7faW4zRM.js";import{r as i}from"./index.DhYZZe0J.js";async function m(){try{const s=await fetch("https://technodevs.com.ar/wp-json/wp/v2/posts?categories=10,11,12&per_page=100");if(!s.ok)throw new Error(`Error al obtener los proyectos: ${s.status} ${s.statusText}`);const c=await s.json();if(!Array.isArray(c))throw new Error("La respuesta de la API no es un array");return await Promise.all(c.map(async r=>{let o="default-image.png";if(r.featured_media){const a=await fetch(`https://technodevs.com.ar/wp-json/wp/v2/media/${r.featured_media}`);a.ok?o=(await a.json()).source_url||o:console.warn(`Error al obtener la imagen: ${a.status} ${a.statusText}`)}return{id:r.id,title:r.title.rendered,description:r.excerpt.rendered,image:o,categories:r.categories}}))}catch(s){return console.error("Error al obtener los proyectos:",s),[]}}const f=()=>{const[s,c]=i.useState([]),[l,r]=i.useState("All"),[o,a]=i.useState([]),d=[{id:"All",name:"Todo"},{id:"10",name:"Desarrollo Web"},{id:"12",name:"Diseño"}];return i.useEffect(()=>{(async()=>{const n=await m();c(n)})()},[]),i.useEffect(()=>{if(l==="All")a(s);else{const e=s.filter(n=>n.categories.includes(parseInt(l)));a(e)}},[l,s]),t.jsxs("section",{className:"lg:mb-16 w-full flex flex-col justify-center items-center bg-bgDark1",children:[t.jsx("div",{className:"fade-in-animation 2xl:w-[1150px] xl:w-[1050px] md:w-4/5 flex justify-center bg-bgDark1 pt-8 lg:pt-14 mx-auto lg:flex-row flex-col",children:t.jsxs("div",{className:"w-3/4 lg:w-1/2 flex flex-col lg:mx-unset mx-auto",children:[t.jsx("span",{className:"block-subtitle text-center",children:"El trabajo que nos respalda"}),t.jsx("h2",{className:"mt-10 mb-8 text-4xl lg:text-5xl block-big-title text-center",children:"Proyectos"})]})}),t.jsx("div",{className:"w-full max-w-screen-lg px-4 mb-8 flex justify-center space-x-4",children:d.map(e=>t.jsx("button",{className:`filter-button ${l===e.id?"active":""} bg-primaryColor text-white py-2 px-4 rounded-md hover:bg-bgDark2 transition duration-300 ease-in-out`,onClick:()=>r(e.id),children:e.name},e.id))}),t.jsx("div",{id:"project-gallery",className:"w-full max-w-screen-lg mx-auto my-12 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 px-4",children:o.map(e=>t.jsxs("div",{className:"bg-bgDark2 border border-gray-600 rounded-lg overflow-hidden shadow-lg project-card",children:[t.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover"}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e.title}),e.description?t.jsx("p",{className:"text-secondaryText",dangerouslySetInnerHTML:{__html:e.description}}):t.jsx("p",{className:"text-secondaryText",children:"Descripción no disponible."})]})]},e.id))})]})};export{f as default};
