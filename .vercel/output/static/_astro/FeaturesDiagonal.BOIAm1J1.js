import{j as e}from"./jsx-runtime.7faW4zRM.js";import{r as o}from"./index.DhYZZe0J.js";async function x(){try{const s=await fetch("https://technodevs.com.ar/wp-json/wp/v2/posts?categories=10,11,12&per_page=100");if(!s.ok)throw new Error(`Error al obtener los proyectos: ${s.status} ${s.statusText}`);const c=await s.json();if(!Array.isArray(c))throw new Error("La respuesta de la API no es un array");return await Promise.all(c.map(async r=>{let i="default-image.png";if(r.featured_media){const a=await fetch(`https://technodevs.com.ar/wp-json/wp/v2/media/${r.featured_media}`);a.ok?i=(await a.json()).source_url||i:console.warn(`Error al obtener la imagen: ${a.status} ${a.statusText}`)}return{id:r.id,title:r.title.rendered,description:r.excerpt.rendered,image:i,categories:r.categories,url:r.link}}))}catch(s){return console.error("Error al obtener los proyectos:",s),[]}}const u=()=>{const[s,c]=o.useState([]),[l,r]=o.useState("All"),[i,a]=o.useState([]),d=[{id:"All",name:"Todo"},{id:"10",name:"Desarrollo Web"},{id:"12",name:"Diseño"}];return o.useEffect(()=>{(async()=>{const n=await x();c(n)})()},[]),o.useEffect(()=>{if(l==="All")a(s);else{const t=s.filter(n=>n.categories.includes(parseInt(l)));a(t)}},[l,s]),e.jsxs("section",{className:"w-full relative flex flex-col justify-center items-center bg-[url('./noise-text.png')] bg-secondary-950 bg-opacity-40 py-12",children:[e.jsxs("div",{children:[e.jsx("div",{className:"w-32 h-[1px] absolute bg-greenPrimary left-0 top-12 opacity-100"}),e.jsx("div",{className:"w-2 h-2 absolute rounded-full bg-greenPrimary left-32 top-[45px] opacity-100"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"w-48 h-[1px] absolute bg-greenPrimary left-0 top-16 opacity-100"}),e.jsx("div",{className:"w-2 h-2 absolute rounded-full bg-greenPrimary left-48 top-[60px] opacity-100"})]}),e.jsx("div",{className:"fade-in-animation 2xl:w-[1150px] xl:w-[1050px] md:w-4/5 flex justify-center mx-auto lg:flex-row flex-col",children:e.jsxs("div",{className:"w-3/4 lg:w-1/2 flex flex-col lg:mx-unset mx-auto",children:[e.jsx("span",{className:"text-center text-xs text-secondary-400 tracking-wider font-bold uppercase",children:"EL TRABAJO NOS RESPALDA"}),e.jsx("h2",{className:"mt-10 mb-8 text-4xl lg:text-5xl block-big-title text-center",children:"Proyectos"})]})}),e.jsx("div",{className:"w-full max-w-screen-lg px-4 mb-8 flex justify-center space-x-4",children:d.map(t=>e.jsx("button",{className:`filter-button ${l===t.id?"bg-primary-700":"bg-[#444]"} px-[1rem] py-[0.5rem] transition-[0.2s] rounded-[0.25rem] bg-primary-700 text-white`,onClick:()=>r(t.id),children:t.name},t.id))}),e.jsx("div",{id:"project-gallery",className:"w-full max-w-screen-lg mx-auto pt-12 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 px-4",children:i.map(t=>e.jsxs("a",{href:t.url,target:"_blank",className:"backdrop-blur-lg bg-[rgba(3,7,18,0.4)] group border  hover:cursor-pointer border-gray-600 rounded-lg overflow-hidden project-card",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-cover grayscale transition-all duration-300 ease-in-out group-hover:grayscale-0"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:t.title}),t.description?e.jsx("p",{className:"text-secondaryText",dangerouslySetInnerHTML:{__html:t.description}}):e.jsx("p",{className:"text-secondaryText",children:"Descripción no disponible."})]})]},t.id))})]})};export{u as default};
