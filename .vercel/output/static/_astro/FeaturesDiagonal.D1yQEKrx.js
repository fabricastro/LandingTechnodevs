import{j as e}from"./jsx-runtime.7faW4zRM.js";import{r as l}from"./index.DhYZZe0J.js";async function g(){try{const t=await fetch("https://technodevs.com.ar/wp-json/wp/v2/posts?categories=10,11,12&per_page=100");if(!t.ok)throw new Error(`Error al obtener los proyectos: ${t.status} ${t.statusText}`);const n=await t.json();if(!Array.isArray(n))throw new Error("La respuesta de la API no es un array");return await Promise.all(n.map(async r=>{let o="default-image.png";if(r.featured_media){const a=await fetch(`https://technodevs.com.ar/wp-json/wp/v2/media/${r.featured_media}`);a.ok?o=(await a.json()).source_url||o:console.warn(`Error al obtener la imagen: ${a.status} ${a.statusText}`)}return{id:r.id,title:r.title.rendered,description:r.excerpt.rendered,image:o,categories:r.categories,url:r.link}}))}catch(t){return console.error("Error al obtener los proyectos:",t),[]}}const u=()=>e.jsxs("div",{className:"animate-pulse backdrop-blur-lg bg-[rgba(3,7,18,0.4)] border border-gray-600 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"w-full h-48 bg-gray-700"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"h-6 bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-full mb-1"}),e.jsx("div",{className:"h-4 bg-gray-700 rounded w-5/6"})]})]}),f=()=>{const[t,n]=l.useState([]),[i,r]=l.useState("All"),[o,a]=l.useState([]),[d,m]=l.useState(!0),x=[{id:"All",name:"Todo"},{id:"10",name:"Desarrollo Web"},{id:"12",name:"Diseño"}];return l.useEffect(()=>{(async()=>{m(!0);const c=await g();n(c),m(!1)})()},[]),l.useEffect(()=>{if(i==="All")a(t);else{const s=t.filter(c=>c.categories.includes(parseInt(i)));a(s)}},[i,t]),e.jsxs("section",{className:"w-full relative flex flex-col justify-center items-center bg-[url('/noise-text.png')] bg-secondary-950 bg-opacity-40 py-12",children:[e.jsxs("div",{children:[e.jsx("div",{className:"w-32 h-[1px] absolute bg-greenPrimary left-0 top-12 opacity-100"}),e.jsx("div",{className:"w-2 h-2 absolute rounded-full bg-greenPrimary left-32 top-[45px] opacity-100"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"w-48 h-[1px] absolute bg-greenPrimary left-0 top-16 opacity-100"}),e.jsx("div",{className:"w-2 h-2 absolute rounded-full bg-greenPrimary left-48 top-[60px] opacity-100"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"w-20 h-[1px] absolute bg-greenPrimary right-0 top-32 opacity-100"}),e.jsx("div",{className:"w-2 h-2 absolute rounded-full bg-greenPrimary right-20 top-[125px] opacity-100"})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"w-16 h-[1px] absolute bg-greenPrimary right-0 top-36 opacity-100"}),e.jsx("div",{className:"w-2 h-2 absolute rounded-full bg-greenPrimary right-16 top-[141px] opacity-100"})]}),e.jsx("div",{className:"fade-in-animation 2xl:w-[1150px] xl:w-[1050px] md:w-4/5 flex justify-center mx-auto lg:flex-row flex-col",children:e.jsxs("div",{className:"w-3/4 lg:w-1/2 flex flex-col lg:mx-unset mx-auto",children:[e.jsx("span",{className:"text-center text-xs text-white tracking-wider font-bold uppercase",children:"EL TRABAJO NOS RESPALDA"}),e.jsx("h2",{className:"mt-10 mb-8 text-4xl lg:text-5xl block-big-title text-center",children:"Proyectos"})]})}),e.jsx("div",{className:"w-full max-w-screen-lg px-4 mb-8 flex justify-center space-x-4",children:x.map(s=>e.jsx("button",{className:`filter-button ${i===s.id?"bg-primary-700":"bg-[#444]"} px-[1rem] py-[0.5rem] transition-[0.2s] rounded-[0.25rem]  text-white`,onClick:()=>r(s.id),children:s.name},s.id))}),e.jsx("div",{id:"project-gallery",className:"w-full max-w-screen-lg mx-auto pt-12 grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 px-4 h-[340px]",children:d?Array.from({length:2}).map((s,c)=>e.jsx(u,{},c)):o.map(s=>e.jsxs("a",{href:s.url,target:"_blank",className:"backdrop-blur-lg bg-[rgba(3,7,18,0.4)] group border hover:cursor-pointer border-gray-600 rounded-lg overflow-hidden project-card",children:[e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-48 object-cover grayscale transition-[0.1s] duration-300 ease-in-out group-hover:grayscale-0"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:s.title}),s.description?e.jsx("p",{className:"text-secondaryText",dangerouslySetInnerHTML:{__html:s.description}}):e.jsx("p",{className:"text-secondaryText",children:"Descripción no disponible."})]})]},s.id))})]})};export{f as default};
